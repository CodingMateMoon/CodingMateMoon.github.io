---
layout  : wiki
title   : REDO와 UNDO
summary : 
date    : 2023-06-13 03:05:38 +0900
updated : 2023-06-13 03:16:29 +0900
tag     : oracle
resource: a3/52a6cd-e960-4281-b813-1fa327510854
toc     : true
public  : true
parent  : [[oracle]]
latex   : false
---
* TOC
{:toc}

## REDO와 UNDO의 중요성

트랜잭션이 가지고 있어야 하는 특성에 'ACID'라는 것이 있습니다. 이 특성을 구현하기 위해서 REDO와 UNDO는 빠질 수 없으므로 이들을 배울 필요가 있습니다.

### A(Atomicity): 원자성
트랜잭션에 포함된 데이터의 변경은 '전부 OK'이거나 '모두 NG'라는 'all or nothing'을 말합니다. DBMS는 수행 중인 트랜잭션에서 데이터를 일부만 변경하고 나머지는 수행하지 않은 채 commit 할 수 없습니다.
e.g, 어떤 트랜잭션에서 A 계좌에서 출금하고 B 계좌에 입금했을 때 출금은 기록됐지만 입금은 기록되지 않은 상황이 발생하면 곤란합니다. 원자성은 이러한 일이 일어나지 않도록 보장하는 것이고 트랜잭션은 더 이상 분리할 수 없는 데이터 변경을 위한 최소 단위입니다.

### C(Consistency): 일관성
트랜잭션에 의해 데이터 간의 일관성이 어긋나서는 안 된다는 의미입니다. 
e.g,  고객 개인의 데이터는 변경되었는데, 고객 전체의 통계 데이터는 변경되지 않은 경우

### I(Isolation): 고립성
트랜잭션끼리는 고립(분리)되고 독립되어 있다는 것을 말합니다. 어떤 트랜잭션을 단독으로 실행했거나 다른 트랜잭션과 동시에 실행했더라도 결과는 같아야하며 다른 트랜잭션을 의식하지 않는 것을 의미합니다. 단 DBMS에 따라 어느 정도 고립시킬 것인가에 대한 레벨을 선택할 수 있습니다.

![image]( /resource/a3/52a6cd-e960-4281-b813-1fa327510854/245229701-7deacc9c-06d9-4e7a-8f84-2a6457a751a9.png)

### D(Durability): 지속성
커밋한 트랜잭션은 장애가 발생하더라도 데이터는 반드시 복구되어야 한다는 의미입니다.

### ACID 요약
* 트랜잭션 단위로 변경(또는 롤백)되어야 한다.
* 어중간한 데이터 변경은 안 된다.
* 다른 트랜잭션과 동시에 실행하든 단독으로 실행하든 결과는 같아야 한다.
* 장비가 꺼지더라도 커밋한 데이터는 복구할 수 있어야 한다

## 참고자료
- 그림으로 공부하는 오라클 구조(스기타아츠시 외 4명)
- REDO와 UNDO 동작 과정을 이해해보자 : <https://loosie.tistory.com/527>
